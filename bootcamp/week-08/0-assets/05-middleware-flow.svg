<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 560 400">
  <defs>
    <marker id="arrowhead5" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#61DAFB"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="560" height="400" fill="#1a1a1a"/>
  
  <!-- Title -->
  <text x="280" y="25" fill="#ffffff" font-family="Inter, sans-serif" font-size="18" font-weight="bold" text-anchor="middle">Flujo de Middleware</text>
  
  <!-- Action -->
  <rect x="40" y="55" width="100" height="45" rx="8" fill="#2d2d2d" stroke="#f59e0b" stroke-width="2"/>
  <text x="90" y="75" fill="#f59e0b" font-family="Inter, sans-serif" font-size="12" font-weight="bold" text-anchor="middle">Action</text>
  <text x="90" y="90" fill="#ffffff" font-family="Inter, sans-serif" font-size="9" text-anchor="middle">increment()</text>
  
  <!-- Middleware Chain -->
  <rect x="170" y="55" width="100" height="45" rx="8" fill="#2d2d2d" stroke="#a855f7" stroke-width="2"/>
  <text x="220" y="75" fill="#a855f7" font-family="Inter, sans-serif" font-size="11" font-weight="bold" text-anchor="middle">devtools</text>
  <text x="220" y="90" fill="#ffffff" font-family="Inter, sans-serif" font-size="9" text-anchor="middle">Log action</text>
  
  <rect x="300" y="55" width="100" height="45" rx="8" fill="#2d2d2d" stroke="#ec4899" stroke-width="2"/>
  <text x="350" y="75" fill="#ec4899" font-family="Inter, sans-serif" font-size="11" font-weight="bold" text-anchor="middle">persist</text>
  <text x="350" y="90" fill="#ffffff" font-family="Inter, sans-serif" font-size="9" text-anchor="middle">Save to storage</text>
  
  <rect x="430" y="55" width="100" height="45" rx="8" fill="#3178C6" stroke="#61DAFB" stroke-width="2"/>
  <text x="480" y="75" fill="#ffffff" font-family="Inter, sans-serif" font-size="11" font-weight="bold" text-anchor="middle">Store</text>
  <text x="480" y="90" fill="#61DAFB" font-family="Inter, sans-serif" font-size="9" text-anchor="middle">set()</text>
  
  <!-- Arrows -->
  <line x1="140" y1="77" x2="170" y2="77" stroke="#61DAFB" stroke-width="2" marker-end="url(#arrowhead5)"/>
  <line x1="270" y1="77" x2="300" y2="77" stroke="#61DAFB" stroke-width="2" marker-end="url(#arrowhead5)"/>
  <line x1="400" y1="77" x2="430" y2="77" stroke="#61DAFB" stroke-width="2" marker-end="url(#arrowhead5)"/>
  
  <!-- Persist Detail -->
  <rect x="40" y="130" width="240" height="130" rx="8" fill="#2d2d2d" stroke="#ec4899" stroke-width="2"/>
  <text x="160" y="155" fill="#ec4899" font-family="Inter, sans-serif" font-size="13" font-weight="bold" text-anchor="middle">persist Middleware</text>
  
  <text x="55" y="180" fill="#ffffff" font-family="Inter, sans-serif" font-size="10">name: 'my-storage'</text>
  <text x="55" y="200" fill="#ffffff" font-family="Inter, sans-serif" font-size="10">storage: localStorage</text>
  <text x="55" y="220" fill="#ffffff" font-family="Inter, sans-serif" font-size="10">partialize: (state) =&gt; ...</text>
  <text x="55" y="240" fill="#ffffff" font-family="Inter, sans-serif" font-size="10">version: 1</text>
  
  <!-- Storage -->
  <rect x="300" y="130" width="120" height="60" rx="8" fill="#2d2d2d" stroke="#22c55e" stroke-width="2"/>
  <text x="360" y="160" fill="#22c55e" font-family="Inter, sans-serif" font-size="12" font-weight="bold" text-anchor="middle">localStorage</text>
  <text x="360" y="180" fill="#ffffff" font-family="Inter, sans-serif" font-size="9" text-anchor="middle">{state: {...}}</text>
  
  <line x1="280" y1="190" x2="300" y2="165" stroke="#22c55e" stroke-width="2" marker-end="url(#arrowhead5)"/>
  
  <!-- DevTools Detail -->
  <rect x="40" y="275" width="240" height="110" rx="8" fill="#2d2d2d" stroke="#a855f7" stroke-width="2"/>
  <text x="160" y="300" fill="#a855f7" font-family="Inter, sans-serif" font-size="13" font-weight="bold" text-anchor="middle">devtools Middleware</text>
  
  <text x="55" y="325" fill="#ffffff" font-family="Inter, sans-serif" font-size="10">name: 'store-name'</text>
  <text x="55" y="345" fill="#ffffff" font-family="Inter, sans-serif" font-size="10">enabled: isDev</text>
  <text x="55" y="365" fill="#ffffff" font-family="Inter, sans-serif" font-size="10">trace: true</text>
  
  <!-- Redux DevTools -->
  <rect x="300" y="275" width="130" height="60" rx="8" fill="#764ABC" stroke="#ffffff" stroke-width="2"/>
  <text x="365" y="305" fill="#ffffff" font-family="Inter, sans-serif" font-size="11" font-weight="bold" text-anchor="middle">Redux DevTools</text>
  <text x="365" y="325" fill="#ffffff" font-family="Inter, sans-serif" font-size="9" text-anchor="middle">Time Travel ğŸ•</text>
  
  <line x1="280" y1="325" x2="300" y2="310" stroke="#764ABC" stroke-width="2" marker-end="url(#arrowhead5)"/>
  
  <!-- Middleware Order -->
  <rect x="440" y="230" width="105" height="155" rx="8" fill="#2d2d2d" stroke="#f59e0b" stroke-width="2"/>
  <text x="493" y="255" fill="#f59e0b" font-family="Inter, sans-serif" font-size="12" font-weight="bold" text-anchor="middle">Orden</text>
  
  <text x="455" y="280" fill="#ffffff" font-family="Inter, sans-serif" font-size="10">1. devtools</text>
  <text x="455" y="300" fill="#ffffff" font-family="Inter, sans-serif" font-size="10">2. persist</text>
  <text x="455" y="320" fill="#ffffff" font-family="Inter, sans-serif" font-size="10">3. immer</text>
  <text x="455" y="340" fill="#ffffff" font-family="Inter, sans-serif" font-size="10">4. store</text>
  
  <text x="455" y="370" fill="#888888" font-family="Inter, sans-serif" font-size="9">Externo â†’ Interno</text>
</svg>